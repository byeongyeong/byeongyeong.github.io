---
layout: post
title: App Delegate 메서드란?
tags:
  - TIL
  - AppDelegate
  - UIApplication
---

iOS 앱의 상태 변화에 따른 동작을 처리하는 App Delegate 메서드들이 있다.
이 메서드들과 함께 앱이 어떠한 실행과정을 거쳐서 AppDelegate를 생성하는지까지 알아보려한다.
내가 원하는 동작을 효과적으로 구현하기 위해서는 iOS와 UIKit 프레임워크가 어떻게 동작하는지 이해하는게 중요하다.

## iOS App의 실행과정
먼저 앱의 실행과정을 알아본다. 실행과정은 아래와 같다.

> 1. 앱의 main 함수 실행
2. main 함수에서 UIKit 프레임워크의 [UIApplicationMain(_ : _ : _ : _ :)](https://developer.apple.com/documentation/uikit/1622933-uiapplicationmain) 함수 실행
3. [UIApplicationMain(_ : _ : _ : _ :)](https://developer.apple.com/documentation/uikit/1622933-uiapplicationmain) 함수의 principalClassName 파라미터로 [UIApplication](https://developer.apple.com/documentation/uikit/uiapplication) 싱글턴 객체 생성
4. 생성된 UIApplication 객체는 info.plist 파일을 바탕으로 앱 실행에 필요한 데이터와 객체를 로드
5. [UIApplicationMain(_ : _ : _ : _ :)](https://developer.apple.com/documentation/uikit/1622933-uiapplicationmain) 함수의 delegateClassName 파라미터로 [AppDelegate](https://developer.apple.com/documentation/uikit/uiapplicationdelegate) 객체를 생성하고 [UIApplication](https://developer.apple.com/documentation/uikit/uiapplication) 객체와 연결
6. Main Event Loop(Application의 Run Loop 포함)를 세팅하고 이벤트 처리를 시작
7. main 스토리보드나 Nib 파일로부터 main UI 파일을 로드
8. AppDelegate의 [application(_:willFinishLaunchingWithOptions:)](https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623032-application) 호출
9. AppDelegate 및 ViewControllers의 추가 메서드를 호출하는 Application 상태 복원을 수행
10. AppDelegate의 [application(_:didFinishLaunchingWithOptions:)](https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1622921-application) 호출
11. UIWindow와 Root ViewController 생성 및 노출

<br>
<p align="center">
   <img src="../images/2021-05-17-til-20210517/1.png" width="700" />
   <em style="font-size: 0.9em;">출처: https://oleb.net/blog/2012/02/app-launch-sequence-ios-revisited/</em>
</p>
<br>

<p align="center">
   <img src="../images/2021-05-17-til-20210517/2.png" width="600" />
   <em style="font-size: 0.9em;">출처: https://stackoverflow.com/questions/17366107/what-is-the-launch-sequence-of-an-ios-app</em>
</p>
<br>

## UIApplicationMain 함수

## UIApplication 객체

## AppDelegate 객체

## AppDelegate의 메서드
각 메소드가 call 되는 시점 및 어떤 행동을 하는지

## 결론

## 레퍼런스
- [https://developer.apple.com/documentation/uikit/app-and-environment/responding-to-the-launch-of-your-app/about-the-app-launch_sequence](https://developer.apple.com/documentation/uikit/app_and_environment/responding_to_the_launch_of_your_app/about_the_app_launch_sequence)
- [https://medium.com/@anandin02/ios-application-launch-sequence-a13a267d1669](https://medium.com/@anandin02/ios-application-launch-sequence-a13a267d1669)
- [https://zeddios.tistory.com/1049](https://zeddios.tistory.com/1049)